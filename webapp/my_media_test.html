<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<title>Teste do Ion.Sound</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		
		<style>
			body{
				font-family: arial;
			}
			li{
				margin-top: 5px;
				margin-down: 5px;
			}
			.eventos{
				margin: 0 auto;
				padding: 5px;
				
				width: 710px;
				height: auto;
				
				text-align: justify;
			}
		</style>
	</head>
	<body>
		<section>
			<h1>Demo de reprodução de audio com Ion.Sound</h1>
			<p>Mídias:</p>
			<ul>
				<li>
					<div id="afogando_em_numeros">Pulselooper - Afogando em Números</div>
					| Evento play: Seta cima | <input type="button" value="PLAY" onClick="play('afogando_em_numeros');" /> |
					<input type="button" value="PAUSE" onClick="pause('afogando_em_numeros');" /> |
					<input type="button" value="STOP" onClick="stop('afogando_em_numeros');" />
				</li>
				<li>
					<div id="black_sea">tMt - Black Sea</div>
					| Evento play:  Seta baixo | <input type="button" value="PLAY" onClick="play('black_sea');" /> |
					<input type="button" value="PAUSE" onClick="pause('black_sea');" /> |
					<input type="button" value="STOP" onClick="stop('black_sea');" />
				</li>
				<li>
					<div id="Parataste">The Industrialism - Parataste</div>
					| Evento play:  Seta esquerda | <input type="button" value="PLAY" onClick="play('Parataste');" /> |
					<input type="button" value="PAUSE" onClick="pause('Parataste');" /> |
					<input type="button" value="STOP" onClick="stop('Parataste');" />
				</li>
				<li>
					<div id="aprazolam">Pulselooper - Aprazolam</div>
					| Evento play:  Seta direita | <input type="button" value="PLAY" onClick="play('aprazolam');" /> |
					<input type="button" value="PAUSE" onClick="pause('aprazolam');" /> |
					<input type="button" value="STOP" onClick="stop('aprazolam');" />
				</li>
				<li>
					<div id="tap">Som "Tap" da biblioteca Ion.Sound</div>
					| Evento play:  Espaço | <input type="button" value="PLAY" onClick="play('tap');" />
				</li>
			</ul>
			<hr/>
			<h2>Eventos acionados:</h2>
			<div class="eventos"></div>
		</section>
		
		<script src="js/jquery-1.11.2.min.js"></script>
		<script src="js/ion.sound.min.js"></script>
		<script>
			//utilização da lib Ion.Sound
			ion.sound({
				sounds: [//nome dos arquivos, sem extensão
					{name: "afogando_em_numeros"},
					{name: "black_sea"},
					{name: "Parataste"},
					{name: "aprazolam"},
					{name: "tap", multiplay: true}//permite várias instâncias do áudio tocando
				],
				path: "sounds/",//local dos arquivos
				preload: true,//carga dos arquivos na inicialização
				multiplay: false,//não permite várias instâncias do áudio tocando
				
				ready_callback:function(obj){//muda a cor do nome da música para verde ao carregar
					$("#"+obj.name).css("color", "#33FF33");
				}
			});
			
			$(document.body).keydown(//eventos de tecla
				function(event){
					switch(event.which){
						case 38: play("afogando_em_numeros"); $(".eventos").append("[^] "); break;//up
						case 40: play("black_sea"); $(".eventos").append("[v] "); break;//down
						case 37: play("Parataste"); $(".eventos").append("[<] "); break;//left
						case 39: play("aprazolam"); $(".eventos").append("[>] "); break;//right
						
						case 32: play("tap"); $(".eventos").append("[SPACE] "); break;//barra de espaço
						
						case 77: mute(); $(".eventos").append("[M] ");//tecla M
					}
				}
			);
			
			function play(soundName){//executa som pelo Ion-Sound
				ion.sound.play(soundName);
			}
			
			function pause(soundName){//executa som pelo Ion-Sound
				ion.sound.pause(soundName);
			}
			
			function stop(soundName){//para o som pelo Ion-Sound
				ion.sound.stop(soundName);
			}
			
			function mute(){//deixa todos os sons mudos pelo Ion-Sound
				ion.sound.volume({"volume": 0.0});
			}
		</script>
	</body>
</html>